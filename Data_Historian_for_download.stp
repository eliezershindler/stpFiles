{"metadata":{"guid":"9ae23761-1e26-473b-8446-65aea2300084","url":"/v2/streaming_pipelines/9ae23761-1e26-473b-8446-65aea2300084","created_at":"2019-02-26T09:59:14Z","updated_at":"2019-02-26T09:59:14Z","revision":1551175154462},"entity":{"name":"Data Historian for download","description":"Data Historian example streams flow streams data from IBM Event Streams, performs data processing and aggregations, and stores results in object storage files.","project_guid":"f5dd27bb-3d3f-4b85-869e-b1a7f48e4d22","graph":{"doc_type":"pipeline","version":"1.0","json_schema":"http://www.ibm.com/ibm/wdp/flow-v1.0/pipeline-flow-v1-schema.json","id":"a250ac9b-af3d-4c5c-9b84-6e96bc6e76e6","app_data":{"ui_data":{"name":"Data Historian"}},"primary_pipeline":"primary-pipeline","pipelines":[{"id":"primary-pipeline","runtime":"streams","nodes":[{"id":"connection0","type":"binding","op":"ibm.streams.sources.messagehubsample","outputs":[{"id":"target","schema_ref":"schema0","links":[{"node_id_ref":"operation0","port_id_ref":"source"}]}],"parameters":{"schema_mapping":[{"type":"string","name":"id","length":255,"path":"/id"},{"type":"string","name":"tz","length":255,"path":"/tz"},{"type":"timestamp","name":"dateutc","path":"/dateutc"},{"type":"timestamp","name":"time_stamp","path":"/time_stamp"},{"type":"double","name":"longitude","path":"/longitude"},{"type":"double","name":"latitude","path":"/latitude"},{"type":"double","name":"temperature","path":"/temperature"},{"type":"double","name":"baromin","path":"/baromin"},{"type":"double","name":"humidity","path":"/humidity"},{"type":"double","name":"rainin","path":"/rainin"}],"topic":"dataHistorianSampleData"},"app_data":{"ui_data":{"label":"Sample Data","x_pos":-130,"y_pos":210}}},{"id":"operation0","type":"execution_node","op":"ibm.streams.operations.aggregate","outputs":[{"id":"target","schema_ref":"schema1","links":[{"node_id_ref":"operation1","port_id_ref":"source"}]}],"parameters":{"window_type":"tumbling","window_time_unit":"second","window_number_of_time_units":"60","use_timestamp_in_tuple":true,"timestamp_field":"time_stamp","timestamp_format":"YYYY_MM_DD_hh_mm_ss","group_by":"id","aggregation_output":[{"name":"id","value":{"function":"Any","arguments":["id"],"type":"varchar"}},{"name":"tz","value":{"function":"Any","arguments":["tz"],"type":"varchar"}},{"name":"dateutc","value":{"function":"Any","arguments":["dateutc"],"type":"timestamp"}},{"name":"time_stamp","value":{"function":"Any","arguments":["time_stamp"],"type":"timestamp"}},{"name":"longitude","value":{"function":"Any","arguments":["longitude"],"type":"double"}},{"name":"latitude","value":{"function":"Any","arguments":["latitude"],"type":"double"}},{"name":"temperature_std1","value":{"function":"PopulationStdDev","arguments":["temperature"],"type":"double"}},{"name":"baromin_min1","value":{"function":"Min","arguments":["baromin"],"type":"double"}},{"name":"humidity_max1","value":{"function":"Max","arguments":["humidity"],"type":"double"}},{"name":"rainin_avg1","value":{"function":"Average","arguments":["rainin"],"type":"double"}}],"schema_mapping":[{"name":"id","type":"string"},{"name":"tz","type":"string"},{"name":"dateutc","type":"timestamp"},{"name":"time_stamp","type":"timestamp"},{"name":"longitude","type":"double"},{"name":"latitude","type":"double"},{"name":"temperature_std1","type":"double"},{"name":"baromin_min1","type":"double"},{"name":"humidity_max1","type":"double"},{"name":"rainin_avg1","type":"double"}]},"app_data":{"ui_data":{"label":"Aggregation","x_pos":140,"y_pos":210}}},{"id":"operation1","type":"execution_node","op":"ibm.streams.operations.aggregate","outputs":[{"id":"target","schema_ref":"schema2","links":[{"node_id_ref":"objectStorage1","port_id_ref":"source"}]}],"parameters":{"window_type":"tumbling","window_time_unit":"second","window_number_of_time_units":"180","use_timestamp_in_tuple":true,"timestamp_field":"time_stamp","timestamp_format":"YYYY_MM_DD_hh_mm_ss","group_by":"id","aggregation_output":[{"name":"id","value":{"function":"Any","arguments":["id"],"type":"varchar"}},{"name":"tz","value":{"function":"Any","arguments":["tz"],"type":"varchar"}},{"name":"dateutc","value":{"function":"Any","arguments":["dateutc"],"type":"timestamp"}},{"name":"time_stamp","value":{"function":"Any","arguments":["time_stamp"],"type":"timestamp"}},{"name":"longitude","value":{"function":"Any","arguments":["longitude"],"type":"double"}},{"name":"latitude","value":{"function":"Any","arguments":["latitude"],"type":"double"}},{"name":"temperature_std2","value":{"function":"PopulationStdDev","arguments":["temperature_std1"],"type":"double"}},{"name":"baromin_min2","value":{"function":"Min","arguments":["baromin_min1"],"type":"double"}},{"name":"humidity_max2","value":{"function":"Max","arguments":["humidity_max1"],"type":"double"}},{"name":"rainin_avg2","value":{"function":"Average","arguments":["rainin_avg1"],"type":"double"}}],"schema_mapping":[{"name":"id","type":"string"},{"name":"tz","type":"string"},{"name":"dateutc","type":"timestamp"},{"name":"time_stamp","type":"timestamp"},{"name":"longitude","type":"double"},{"name":"latitude","type":"double"},{"name":"temperature_std2","type":"double"},{"name":"baromin_min2","type":"double"},{"name":"humidity_max2","type":"double"},{"name":"rainin_avg2","type":"double"}]},"app_data":{"ui_data":{"label":"Aggregation","x_pos":420,"y_pos":210}}},{"id":"objectStorage1","type":"binding","op":"ibm.streams.targets.objectstorage_v2","parameters":{"format":"csv","delimiter":",","header_row_enabled":true,"write_policy":"time","rolling_time_seconds":"45"},"connection":{"ref":"2ad45126-a6c3-477b-b3f8-bb2845fafb13","project_ref":"f5dd27bb-3d3f-4b85-869e-b1a7f48e4d22","properties":{"asset":{"id":"mynewtest","type":"file","name":"mynewtest","path":"/bucket6ggf0/mynewtest"}}},"app_data":{"ui_data":{"label":"Cloud Object Storage","x_pos":720,"y_pos":210}}}]}],"schemas":[{"id":"schema0","fields":[{"name":"id","type":"string"},{"name":"tz","type":"string"},{"name":"dateutc","type":"timestamp"},{"name":"time_stamp","type":"timestamp"},{"name":"longitude","type":"double"},{"name":"latitude","type":"double"},{"name":"temperature","type":"double"},{"name":"baromin","type":"double"},{"name":"humidity","type":"double"},{"name":"rainin","type":"double"}]},{"id":"schema1","fields":[{"name":"id","type":"string"},{"name":"tz","type":"string"},{"name":"dateutc","type":"timestamp"},{"name":"time_stamp","type":"timestamp"},{"name":"longitude","type":"double"},{"name":"latitude","type":"double"},{"name":"temperature_std1","type":"double"},{"name":"baromin_min1","type":"double"},{"name":"humidity_max1","type":"double"},{"name":"rainin_avg1","type":"double"}]},{"id":"schema2","fields":[{"name":"id","type":"string"},{"name":"tz","type":"string"},{"name":"dateutc","type":"timestamp"},{"name":"time_stamp","type":"timestamp"},{"name":"longitude","type":"double"},{"name":"latitude","type":"double"},{"name":"temperature_std2","type":"double"},{"name":"baromin_min2","type":"double"},{"name":"humidity_max2","type":"double"},{"name":"rainin_avg2","type":"double"}]}]},"engines":{"streams":{"instance_id":"f2cfe308-de93-46d9-a3b5-f2c6d354278c"}}}}