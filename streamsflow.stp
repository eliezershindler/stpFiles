{"metadata":{"guid":"456b1f9c-8170-4aa2-a787-6541b4040b1f","url":"/v2/streaming_pipelines/456b1f9c-8170-4aa2-a787-6541b4040b1f","created_at":"2019-10-06T07:26:57Z","updated_at":"2019-10-06T07:38:47Z","revision":1570347527079},"entity":{"name":"streamsflow","description":"","project_guid":"f5154b64-4ca4-47f4-8fa7-c181caea64b3","graph":{"doc_type":"pipeline","version":"1.0","json_schema":"http://www.ibm.com/ibm/wdp/flow-v1.0/pipeline-flow-v1-schema.json","id":"","app_data":{"ui_data":{"name":"streamsflow"}},"primary_pipeline":"primary-pipeline","pipelines":[{"id":"primary-pipeline","runtime":"streams","nodes":[{"id":"http_8grgvjpooo6","type":"binding","op":"ibm.streams.sources.http","outputs":[{"id":"target","schema_ref":"schema0","links":[{"node_id_ref":"debug_qzrulds1dqp","port_id_ref":"source"}]}],"parameters":{"url":"https://json-ld.org/contexts/person.jsonld","polling_interval":1,"schema_mapping":[{"name":"http_status_code","type":"double","path":"/http_status_code"},{"name":"http_reason","type":"string","length":255,"path":"/http_reason"},{"name":"http_headers","type":"string","length":255,"path":"/http_headers"},{"name":"a_context_Person","type":"string","length":255,"path":"/@context/Person"},{"name":"a_context_xsd","type":"string","length":255,"path":"/@context/xsd"},{"name":"a_context_name","type":"string","length":255,"path":"/@context/name"},{"name":"a_context_nickname","type":"string","length":255,"path":"/@context/nickname"},{"name":"a_context_affiliation","type":"string","length":255,"path":"/@context/affiliation"},{"name":"a_context_depiction__id","type":"string","length":255,"path":"/@context/depiction/@id"},{"name":"a_context_depiction__type","type":"string","length":255,"path":"/@context/depiction/@type"},{"name":"a_context_image__id","type":"string","length":255,"path":"/@context/image/@id"},{"name":"a_context_image__type","type":"string","length":255,"path":"/@context/image/@type"},{"name":"a_context_born__id","type":"string","length":255,"path":"/@context/born/@id"},{"name":"a_context_born__type","type":"string","length":255,"path":"/@context/born/@type"},{"name":"a_context_child__id","type":"string","length":255,"path":"/@context/child/@id"},{"name":"a_context_child__type","type":"string","length":255,"path":"/@context/child/@type"},{"name":"a_context_colleague__id","type":"string","length":255,"path":"/@context/colleague/@id"},{"name":"a_context_colleague__type","type":"string","length":255,"path":"/@context/colleague/@type"},{"name":"a_context_knows__id","type":"string","length":255,"path":"/@context/knows/@id"},{"name":"a_context_knows__type","type":"string","length":255,"path":"/@context/knows/@type"},{"name":"a_context_died__id","type":"string","length":255,"path":"/@context/died/@id"},{"name":"a_context_died__type","type":"string","length":255,"path":"/@context/died/@type"},{"name":"a_context_email__id","type":"string","length":255,"path":"/@context/email/@id"},{"name":"a_context_email__type","type":"string","length":255,"path":"/@context/email/@type"},{"name":"a_context_familyName","type":"string","length":255,"path":"/@context/familyName"},{"name":"a_context_givenName","type":"string","length":255,"path":"/@context/givenName"},{"name":"a_context_gender","type":"string","length":255,"path":"/@context/gender"},{"name":"a_context_homepage__id","type":"string","length":255,"path":"/@context/homepage/@id"},{"name":"a_context_homepage__type","type":"string","length":255,"path":"/@context/homepage/@type"},{"name":"a_context_honorificPrefix","type":"string","length":255,"path":"/@context/honorificPrefix"},{"name":"a_context_honorificSuffix","type":"string","length":255,"path":"/@context/honorificSuffix"},{"name":"a_context_jobTitle","type":"string","length":255,"path":"/@context/jobTitle"},{"name":"a_context_nationality","type":"string","length":255,"path":"/@context/nationality"},{"name":"a_context_parent__id","type":"string","length":255,"path":"/@context/parent/@id"},{"name":"a_context_parent__type","type":"string","length":255,"path":"/@context/parent/@type"},{"name":"a_context_sibling__id","type":"string","length":255,"path":"/@context/sibling/@id"},{"name":"a_context_sibling__type","type":"string","length":255,"path":"/@context/sibling/@type"},{"name":"a_context_spouse__id","type":"string","length":255,"path":"/@context/spouse/@id"},{"name":"a_context_spouse__type","type":"string","length":255,"path":"/@context/spouse/@type"},{"name":"a_context_telephone","type":"string","length":255,"path":"/@context/telephone"},{"name":"a_context_Address","type":"string","length":255,"path":"/@context/Address"},{"name":"a_context_address","type":"string","length":255,"path":"/@context/address"},{"name":"a_context_street","type":"string","length":255,"path":"/@context/street"},{"name":"a_context_locality","type":"string","length":255,"path":"/@context/locality"},{"name":"a_context_region","type":"string","length":255,"path":"/@context/region"},{"name":"a_context_country","type":"string","length":255,"path":"/@context/country"},{"name":"a_context_postalCode","type":"string","length":255,"path":"/@context/postalCode"}]},"app_data":{"ui_data":{"label":"Http","x_pos":-400,"y_pos":360}}},{"id":"debug_qzrulds1dqp","type":"binding","op":"ibm.streams.targets.debug","parameters":{},"app_data":{"ui_data":{"label":"Debug","x_pos":-50,"y_pos":350}}},{"id":"code_xuhp9h5q8oq","type":"binding","op":"ibm.streams.sources.code","outputs":[{"id":"target","schema_ref":"schema1","links":[{"node_id_ref":"freeform_filter_9enbpjb3u0c","port_id_ref":"source"}]}],"parameters":{"code":"#\n# YOU MUST EDIT THE SCHEMA and add all attributes that you are returning as output.\n#\n# Preinstalled Python packages can be viewed from the Settings pane.\n# In the Settings pane you can also install additional Python packages.\n\nimport sys\nimport time\nimport logging\n\n# Use this logger for tracing or debugging your code:\nlogger = logging.getLogger(__name__)\n# Example:\n#     logger.info('Got to step 2...')\n\n# init() function will be called once on flow initialization\n# @state a Python dictionary object for keeping state. The state object is passed to the produce function\ndef init(state):\n    # do something once on flow initialization and save in the state object\n    pass\n\n\n# produce() function will be called when the job starts to run.\n# It is called on a background thread, and it will typically invoke the 'submit()' callback\n# whenever a tuple of data is ready to be emitted from this operator.\n# This allows for using asynchronous data services as well as synchronous data generation or retrieval.\n# @submit a Python callback function that takes one argument: a dictionary representing a single tuple.\n# @state a Python dictionary object for keeping state\n# You must declare all output attributes in the Edit Schema window.\ndef produce(submit, state):\n    counter = 0\n    while(True):\n        # Submit a tuple in each iteration:\n        submit({\"number\": counter, \"square\": counter * counter,\"hi\": \"hello world\"})\n        counter += 1\n        time.sleep(0.5) # Simulates a delay of 0.5 seconds between emitted events\n\n\n","schema_mapping":[{"name":"number","type":"double","length":0,"source_elem_name":""},{"name":"square","type":"double","length":0,"source_elem_name":"","target_elem_name":""},{"name":"hi","type":"string","length":0,"source_elem_name":"","target_elem_name":""}]},"app_data":{"ui_data":{"label":"Code","x_pos":-210,"y_pos":150}}},{"id":"freeform_filter_9enbpjb3u0c","type":"execution_node","op":"ibm.streams.operations.freeform-filter","outputs":[{"id":"target","schema_ref":"schema2","links":[{"node_id_ref":"streams_xecncc7oj39","port_id_ref":"source"}]}],"parameters":{"expression":"hi == \"hello world\""},"app_data":{"ui_data":{"label":"Filter","x_pos":160,"y_pos":160}}},{"id":"streams_xecncc7oj39","type":"binding","op":"ibm.streams.targets.streams","parameters":{"topic":"mytopic"},"app_data":{"ui_data":{"label":"Streams","x_pos":440,"y_pos":150}}},{"id":"streams_vu9ue1muc6a","type":"binding","op":"ibm.streams.sources.streams","outputs":[{"id":"target","schema_ref":"schema3","links":[{"node_id_ref":"debug_cj55yamsjvw","port_id_ref":"source"}]}],"parameters":{"asset":{"id":"mytopic","name":"mytopic","path":"mytopic","type":"topic","fields":[{"name":"number","type":"double","spl_type":"float64","source_elem_name":"/number"},{"name":"square","type":"double","spl_type":"float64","source_elem_name":"/square"},{"name":"hi","type":"varchar","spl_type":"rstring","source_elem_name":"/hi"}]},"schema_mapping":[{"name":"number","type":"double","spl_type":"float64","path":"/number"},{"name":"square","type":"double","spl_type":"float64","path":"/square"},{"name":"hi","type":"string","spl_type":"rstring","path":"/hi"}]},"app_data":{"ui_data":{"label":"Streams","x_pos":-310,"y_pos":260}}},{"id":"debug_cj55yamsjvw","type":"binding","op":"ibm.streams.targets.debug","parameters":{},"app_data":{"ui_data":{"label":"Debug","x_pos":60,"y_pos":250}}}]}],"schemas":[{"id":"schema0","fields":[{"name":"http_status_code","type":"double"},{"name":"http_reason","type":"string"},{"name":"http_headers","type":"string"},{"name":"a_context_Person","type":"string"},{"name":"a_context_xsd","type":"string"},{"name":"a_context_name","type":"string"},{"name":"a_context_nickname","type":"string"},{"name":"a_context_affiliation","type":"string"},{"name":"a_context_depiction__id","type":"string"},{"name":"a_context_depiction__type","type":"string"},{"name":"a_context_image__id","type":"string"},{"name":"a_context_image__type","type":"string"},{"name":"a_context_born__id","type":"string"},{"name":"a_context_born__type","type":"string"},{"name":"a_context_child__id","type":"string"},{"name":"a_context_child__type","type":"string"},{"name":"a_context_colleague__id","type":"string"},{"name":"a_context_colleague__type","type":"string"},{"name":"a_context_knows__id","type":"string"},{"name":"a_context_knows__type","type":"string"},{"name":"a_context_died__id","type":"string"},{"name":"a_context_died__type","type":"string"},{"name":"a_context_email__id","type":"string"},{"name":"a_context_email__type","type":"string"},{"name":"a_context_familyName","type":"string"},{"name":"a_context_givenName","type":"string"},{"name":"a_context_gender","type":"string"},{"name":"a_context_homepage__id","type":"string"},{"name":"a_context_homepage__type","type":"string"},{"name":"a_context_honorificPrefix","type":"string"},{"name":"a_context_honorificSuffix","type":"string"},{"name":"a_context_jobTitle","type":"string"},{"name":"a_context_nationality","type":"string"},{"name":"a_context_parent__id","type":"string"},{"name":"a_context_parent__type","type":"string"},{"name":"a_context_sibling__id","type":"string"},{"name":"a_context_sibling__type","type":"string"},{"name":"a_context_spouse__id","type":"string"},{"name":"a_context_spouse__type","type":"string"},{"name":"a_context_telephone","type":"string"},{"name":"a_context_Address","type":"string"},{"name":"a_context_address","type":"string"},{"name":"a_context_street","type":"string"},{"name":"a_context_locality","type":"string"},{"name":"a_context_region","type":"string"},{"name":"a_context_country","type":"string"},{"name":"a_context_postalCode","type":"string"}]},{"id":"schema1","fields":[{"name":"number","type":"double"},{"name":"square","type":"double"},{"name":"hi","type":"string"}]},{"id":"schema2","fields":[{"name":"number","type":"double"},{"name":"square","type":"double"},{"name":"hi","type":"string"}]},{"id":"schema3","fields":[{"name":"number","type":"double","splType":"float64"},{"name":"square","type":"double","splType":"float64"},{"name":"hi","type":"string","splType":"rstring"}]}]},"engines":{"streams":{"instance_id":1570177020}}}}